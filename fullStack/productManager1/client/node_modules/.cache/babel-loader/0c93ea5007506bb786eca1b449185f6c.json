{"ast":null,"code":"var _jsxFileName = \"/Users/mehrdadyazdanibiouki/Desktop/CS-golden-path/Coding Dojo/MEARN_stack/fullStack/productManager1/client/src/views/Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProductForm from '../components/ProductForm';\nimport ProductList from '../components/ProductList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = props => {\n  _s();\n\n  const [message, setMessage] = useState(\"Loading ...\");\n  const [loaded, setLoaded] = useState(false);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/api\").then(res => {\n      console.log(res.data.message);\n      setMessage(res.data.message);\n    }); // .then(res => console.log(res.data.message))\n  }, []);\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/product').then(res => {\n      setProducts(res.data);\n      setLoaded(true);\n    });\n  }, []);\n\n  const removeFromDom = productId => {\n    setProducts(products.filter(product => product._id != productId));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductForm, {\n      onSubmitProp: createPerson,\n      initialTile: \"\",\n      initialPrice: \"\",\n      initialD: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), loaded && /*#__PURE__*/_jsxDEV(ProductList, {\n      products: products,\n      removeFromDom: removeFromDom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"iW03Anw1UoXiEdGxJly7Sql+8ZY=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/mehrdadyazdanibiouki/Desktop/CS-golden-path/Coding Dojo/MEARN_stack/fullStack/productManager1/client/src/views/Main.js"],"names":["React","useState","useEffect","axios","ProductForm","ProductList","Main","props","message","setMessage","loaded","setLoaded","products","setProducts","get","then","res","console","log","data","removeFromDom","productId","filter","product","_id","createPerson"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;;AAGA,MAAMC,IAAI,GAAIC,KAAD,IAAS;AAAA;;AAClB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,aAAD,CAAtC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAE,MAAI;AACXC,IAAAA,KAAK,CAACW,GAAN,CAAU,2BAAV,EACCC,IADD,CACMC,GAAG,IAAG;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASX,OAArB;AACAC,MAAAA,UAAU,CAACO,GAAG,CAACG,IAAJ,CAASX,OAAV,CAAV;AACH,KAJD,EADW,CAMX;AAEH,GARQ,EAQP,EARO,CAAT;AAWAN,EAAAA,SAAS,CAAE,MAAI;AACXC,IAAAA,KAAK,CAACW,GAAN,CAAU,mCAAV,EACCC,IADD,CACMC,GAAG,IAAG;AACRH,MAAAA,WAAW,CAACG,GAAG,CAACG,IAAL,CAAX;AACAR,MAAAA,SAAS,CAAC,IAAD,CAAT;AAEH,KALD;AAOH,GARQ,EAQP,EARO,CAAT;;AAaA,QAAMS,aAAa,GAAIC,SAAD,IAAa;AAC/BR,IAAAA,WAAW,CAACD,QAAQ,CAACU,MAAT,CAAiBC,OAAO,IAAGA,OAAO,CAACC,GAAR,IAAeH,SAA1C,CAAD,CAAX;AACH,GAFD;;AAKA,sBAEI;AAAA,4BACI;AAAA,gBAAKb;AAAL;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,WAAD;AACI,MAAA,YAAY,EAAEiB,YADlB;AAEI,MAAA,WAAW,EAAC,EAFhB;AAGI,MAAA,YAAY,EAAC,EAHjB;AAII,MAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,YAHJ,EAQKf,MAAM,iBAAM,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEE,QAAvB;AAAiC,MAAA,aAAa,EAAIQ;AAAlD;AAAA;AAAA;AAAA;AAAA,YARjB;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAcH,CAhDD;;GAAMd,I;;KAAAA,I;AAkDN,eAAeA,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport ProductForm from '../components/ProductForm'\nimport ProductList from '../components/ProductList'\n\n\nconst Main = (props)=>{\n    const [message, setMessage] = useState(\"Loading ...\");\n    const [loaded, setLoaded] = useState(false);\n    const [products, setProducts] = useState([]);\n\n    useEffect( ()=>{\n        axios.get(\"http://localhost:8000/api\")\n        .then(res=> {\n            console.log(res.data.message)\n            setMessage(res.data.message)\n        } )\n        // .then(res => console.log(res.data.message))\n\n    },[])\n\n\n    useEffect( ()=>{\n        axios.get('http://localhost:8000/api/product')\n        .then(res =>{\n            setProducts(res.data);\n            setLoaded(true);\n            \n        });\n\n    },[])\n\n    \n\n\n    const removeFromDom = (productId)=>{\n        setProducts(products.filter( product=> product._id != productId))\n    }\n    \n\n    return(\n\n        <div>\n            <h2>{message}</h2>\n            <hr/>\n            <ProductForm \n                onSubmitProp={createPerson} \n                initialTile=\"\" \n                initialPrice=\"\"\n                initialD />\n            {loaded &&   <ProductList products={products} removeFromDom = {removeFromDom} />}\n\n        </div>\n    )\n}\n\nexport default Main;\n\n"]},"metadata":{},"sourceType":"module"}